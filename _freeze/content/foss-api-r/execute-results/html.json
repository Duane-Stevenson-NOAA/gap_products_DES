{
  "hash": "c81295cc15ed7b8ca0597bcdf2b69a51",
  "result": {
    "markdown": "---\ntitle: Access via API and R\nnumber-sections: true\n---\n\n\n\n\nAn application programming interface (API) is a way for two or more computer programs to communicate with each other.\n\nMore information about how to amend API links can be found [here](https://docs.oracle.com/en/database/oracle/oracle-rest-data-services/22.3/books.html#AELIG90103/). Useful introductions to using APIs in `R` can be found [here](https://www.dataquest.io/blog/r-api-tutorial/). \n\n## Ex. Load the first 25 rows (default) of data\n\n\n::: {.cell tbl-cap='Load the first 25 rows (default) of data. '}\n\n```{.r .cell-code}\n# install.packages(c(\"httr\", \"jsonlite\"))\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(dplyr)\n\n# link to the API\napi_link <- \"https://apps-st.fisheries.noaa.gov/ods/foss/afsc_groundfish_survey/\"\n\nres <- httr::GET(url = api_link)\n# res # Test connection\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n# names(data)\ntibble::as_tibble(data$items) %>% \n  dplyr::mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  head(3) %>%\n  flextable::flextable() %>%\n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"cruise\", \"species_code\", \"tsn\", \"ak_survey_id\"), big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-9ebbe618{}.cl-9e34af7c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e34afa4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e6ae844{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e6ae858{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e6b5d38{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e6b5d4c{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e6b5d56{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e6b5d60{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e6b5d6a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e6b5d6b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-9ebbe618'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">year</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">srvy</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">survey</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">survey_id</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cruise</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">haul</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">stratum</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">station</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">vessel_name</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">vessel_id</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">date_time</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">latitude_dd</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">longitude_dd</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">species_code</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">common_name</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">scientific_name</span></p></th><th class=\"cl-9e6b5d4c\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34af7c\">taxon_confidence</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_kgha</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_kgkm2</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_kg1000km2</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_noha</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_nokm2</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">cpue_no1000km2</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">weight_kg</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">count</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">bottom_temperature_c</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">surface_temperature_c</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">depth_m</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">distance_fished_km</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">net_width_m</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">net_height_m</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">area_swept_ha</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">duration_hr</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">tsn</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">ak_survey_id</span></p></th><th class=\"cl-9e6b5d38\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34af7c\">links</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2002</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">AI</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">52</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">200201</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">6</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">722</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">307-63</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Vesteraalen</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">94</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">05/17/2002 18:56:58</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">53.737</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">-167.016</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">95020</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">feathery bryozoan</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Eucratea loricata</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Low</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.017</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1.749</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1,749.445</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\"></span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\"></span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\"></span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.044</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">4.1</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">5.3</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">187</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1.561</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">16.112</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">7.25</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2.515</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.28</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">155809</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1917453</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">[[data.frame]]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2002</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">AI</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">52</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">200201</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">6</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">722</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">307-63</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Vesteraalen</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">94</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">05/17/2002 18:56:58</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">53.737</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">-167.016</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">79000</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">squid unid.</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Decapodiformes</span></p></td><td class=\"cl-9e6b5d6b\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">High</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.022</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2.227</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2,226.567</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">3.181</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">318.081</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">318,080.93</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.056</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">8</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">4.1</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">5.3</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">187</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1.561</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">16.112</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">7.25</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2.515</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.28</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\"></span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1917454</span></p></td><td class=\"cl-9e6b5d6a\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">[[data.frame]]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2002</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">AI</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">52</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">200201</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">6</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">722</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">307-63</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Vesteraalen</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">94</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">05/17/2002 18:56:58</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">53.737</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">-167.016</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">24191</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">shortfin eelpout</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">Lycodes brevipes</span></p></td><td class=\"cl-9e6b5d60\"><p class=\"cl-9e6ae858\"><span class=\"cl-9e34afa4\">High</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.036</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">3.578</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">3,578.410</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.795</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">79.520</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">79,520.23</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.090</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">4.1</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">5.3</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">187</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1.561</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">16.112</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">7.25</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">2.515</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">0.28</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">165258</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">1917455</span></p></td><td class=\"cl-9e6b5d56\"><p class=\"cl-9e6ae844\"><span class=\"cl-9e34afa4\">[[data.frame]]</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n::: {.cell tbl-cap='Load the first 25 rows (default) of data. '}\n\n```{.r .cell-code}\n# install.packages(c(\"httr\", \"jsonlite\"))\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(dplyr)\n\n# link to the API\napi_link <- \"https://apps-st.fisheries.noaa.gov/ods/foss/afsc_groundfish_survey/\"\n\nres <- httr::GET(url = api_link)\n# res # Test connection\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n# names(data)\ntibble::as_tibble(data$items) %>% \n  dplyr::mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  head(3) %>%\n  flextable::flextable() %>%\n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"cruise\", \"species_code\", \"tsn\", \"ak_survey_id\"), big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-a0c42916{}.cl-a05c1060{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a05c1074{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a07860b2{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a07860da{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a07b85ee{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a07b860c{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a07b8616{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a07b8617{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a07b862a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a07b862b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-a0c42916'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">year</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">srvy</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">survey</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">survey_id</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cruise</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">haul</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">stratum</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">station</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">vessel_name</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">vessel_id</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">date_time</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">latitude_dd</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">longitude_dd</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">species_code</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">common_name</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">scientific_name</span></p></th><th class=\"cl-a07b860c\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1060\">taxon_confidence</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_kgha</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_kgkm2</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_kg1000km2</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_noha</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_nokm2</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">cpue_no1000km2</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">weight_kg</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">count</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">bottom_temperature_c</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">surface_temperature_c</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">depth_m</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">distance_fished_km</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">net_width_m</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">net_height_m</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">area_swept_ha</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">duration_hr</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">tsn</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">ak_survey_id</span></p></th><th class=\"cl-a07b85ee\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1060\">links</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2002</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">AI</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">52</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">200201</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">6</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">722</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">307-63</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Vesteraalen</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">94</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">05/17/2002 18:56:58</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">53.737</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">-167.016</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">95020</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">feathery bryozoan</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Eucratea loricata</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Low</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.017</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1.749</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1,749.445</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\"></span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\"></span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\"></span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.044</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">4.1</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">5.3</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">187</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1.561</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">16.112</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">7.25</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2.515</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.28</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">155809</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1917453</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">[[data.frame]]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2002</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">AI</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">52</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">200201</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">6</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">722</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">307-63</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Vesteraalen</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">94</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">05/17/2002 18:56:58</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">53.737</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">-167.016</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">79000</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">squid unid.</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Decapodiformes</span></p></td><td class=\"cl-a07b862b\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">High</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.022</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2.227</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2,226.567</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">3.181</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">318.081</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">318,080.93</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.056</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">8</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">4.1</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">5.3</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">187</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1.561</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">16.112</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">7.25</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2.515</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.28</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\"></span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1917454</span></p></td><td class=\"cl-a07b862a\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">[[data.frame]]</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2002</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">AI</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Aleutian Islands Bottom Trawl Survey</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">52</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">200201</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">6</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">722</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">307-63</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Vesteraalen</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">94</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">05/17/2002 18:56:58</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">53.737</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">-167.016</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">24191</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">shortfin eelpout</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">Lycodes brevipes</span></p></td><td class=\"cl-a07b8617\"><p class=\"cl-a07860da\"><span class=\"cl-a05c1074\">High</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.036</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">3.578</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">3,578.410</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.795</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">79.520</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">79,520.23</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.090</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">4.1</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">5.3</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">187</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1.561</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">16.112</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">7.25</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">2.515</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">0.28</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">165258</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">1917455</span></p></td><td class=\"cl-a07b8616\"><p class=\"cl-a07860b2\"><span class=\"cl-a05c1074\">[[data.frame]]</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Ex. Load the first 10,000 rows of data\n\n\n::: {.cell tbl-cap='Load the first 10,000 rows of data. '}\n\n```{.r .cell-code}\n# Not run because too big:\nres <- httr::GET(url = paste0(api_link, \"?offset=0&limit=10000\"))\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\nprint(paste0(\"rows: \", dim(data$items)[1], \"; cols: \", dim(data$items)[2]))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"rows: 10000; cols: 36\"\n```\n:::\n:::\n\n\n## Ex. Filter by Year\n\nShow all the data greater than the year 2020. \n\n\n::: {.cell tbl-cap='Filter by Year. '}\n\n```{.r .cell-code}\nres <- httr::GET(url = paste0(api_link, '?q={\"year\":{\"$gt\":2020}}'))\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n\nas_tibble(data$items) %>% \n  mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  head(3) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  dplyr::select(year, srvy, stratum, species_code, cpue_kgkm2) %>%\n  flextable::flextable() %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-a75d3380{}.cl-a7388bfc{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a7388c10{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a7456156{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a74561ce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a745b7f0{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a745b980{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a745b99e{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a745b9a8{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a745b9bc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a745b9c6{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-a75d3380'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-a745b7f0\"><p class=\"cl-a7456156\"><span class=\"cl-a7388bfc\">year</span></p></th><th class=\"cl-a745b980\"><p class=\"cl-a74561ce\"><span class=\"cl-a7388bfc\">srvy</span></p></th><th class=\"cl-a745b7f0\"><p class=\"cl-a7456156\"><span class=\"cl-a7388bfc\">stratum</span></p></th><th class=\"cl-a745b7f0\"><p class=\"cl-a7456156\"><span class=\"cl-a7388bfc\">species_code</span></p></th><th class=\"cl-a745b7f0\"><p class=\"cl-a7456156\"><span class=\"cl-a7388bfc\">cpue_kgkm2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">2022</span></p></td><td class=\"cl-a745b9a8\"><p class=\"cl-a74561ce\"><span class=\"cl-a7388c10\">AI</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">793</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">80540</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">0.361</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a745b9bc\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">2022</span></p></td><td class=\"cl-a745b9c6\"><p class=\"cl-a74561ce\"><span class=\"cl-a7388c10\">AI</span></p></td><td class=\"cl-a745b9bc\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">793</span></p></td><td class=\"cl-a745b9bc\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">401</span></p></td><td class=\"cl-a745b9bc\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">0.903</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">2022</span></p></td><td class=\"cl-a745b9a8\"><p class=\"cl-a74561ce\"><span class=\"cl-a7388c10\">AI</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">793</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">20006</span></p></td><td class=\"cl-a745b99e\"><p class=\"cl-a7456156\"><span class=\"cl-a7388c10\">1.661</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Ex. Filter by species name\n\nShow all the data where the product name contains pollock Please note that here the word pollock is case sensitive.\n\nThe notation for finding a string is to use % around it. Since % is a reserved character in a URL, you have to replace `%` with `%25`. \n\n\n::: {.cell tbl-cap='Filter by species name. '}\n\n```{.r .cell-code}\nres <- httr::GET(\n  url = paste0(api_link, '?q={\"common_name\":{\"$like\":\"%25pollock%25\"}}'))\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n\nas_tibble(data$items) %>% \n  mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  head(3) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  dplyr::select(year, srvy, stratum, species_code, cpue_kgkm2) %>%\n  flextable::flextable() %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-a809115a{}.cl-a7debf7c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a7debf90{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a7ec8382{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a7ec83aa{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a7ed47e0{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a7ed47f4{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a7ed4808{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a7ed4812{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a7ed481c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a7ed4826{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-a809115a'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-a7ed47e0\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf7c\">year</span></p></th><th class=\"cl-a7ed47f4\"><p class=\"cl-a7ec83aa\"><span class=\"cl-a7debf7c\">srvy</span></p></th><th class=\"cl-a7ed47e0\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf7c\">stratum</span></p></th><th class=\"cl-a7ed47e0\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf7c\">species_code</span></p></th><th class=\"cl-a7ed47e0\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf7c\">cpue_kgkm2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">2002</span></p></td><td class=\"cl-a7ed4812\"><p class=\"cl-a7ec83aa\"><span class=\"cl-a7debf90\">AI</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">722</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">21740</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">775.322</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a7ed481c\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">2002</span></p></td><td class=\"cl-a7ed4826\"><p class=\"cl-a7ec83aa\"><span class=\"cl-a7debf90\">AI</span></p></td><td class=\"cl-a7ed481c\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">722</span></p></td><td class=\"cl-a7ed481c\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">21740</span></p></td><td class=\"cl-a7ed481c\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">10,685.806</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">2002</span></p></td><td class=\"cl-a7ed4812\"><p class=\"cl-a7ec83aa\"><span class=\"cl-a7debf90\">AI</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">721</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">21740</span></p></td><td class=\"cl-a7ed4808\"><p class=\"cl-a7ec8382\"><span class=\"cl-a7debf90\">0.640</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Ex. Combination of year and name filters\n\nShow all the data where years > 2020 and the product name contains pollock\n\n\n::: {.cell tbl-cap='Combination of year and name filters. '}\n\n```{.r .cell-code}\nres <- httr::GET(\n  url = paste0(api_link, \n               '?q={\"year\":{\"$gt\":2020},\"common_name\":{\"$like\":\"%25pollock%25\"}}'))\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n\nas_tibble(data$items) %>% \n  mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  head(3) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  dplyr::select(year, srvy, stratum, species_code, cpue_kgkm2) %>%\n  flextable::flextable() %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-a895da2c{}.cl-a8739e62{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a8739e76{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a88168f8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a8816916{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a881b29a{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a881b2ae{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a881b2b8{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a881b2c2{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a881b2cc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a881b2d6{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-a895da2c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-a881b29a\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e62\">year</span></p></th><th class=\"cl-a881b2ae\"><p class=\"cl-a8816916\"><span class=\"cl-a8739e62\">srvy</span></p></th><th class=\"cl-a881b29a\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e62\">stratum</span></p></th><th class=\"cl-a881b29a\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e62\">species_code</span></p></th><th class=\"cl-a881b29a\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e62\">cpue_kgkm2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">2022</span></p></td><td class=\"cl-a881b2c2\"><p class=\"cl-a8816916\"><span class=\"cl-a8739e76\">AI</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">793</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">21740</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">7,853.632</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a881b2cc\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">2022</span></p></td><td class=\"cl-a881b2d6\"><p class=\"cl-a8816916\"><span class=\"cl-a8739e76\">AI</span></p></td><td class=\"cl-a881b2cc\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">721</span></p></td><td class=\"cl-a881b2cc\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">21740</span></p></td><td class=\"cl-a881b2cc\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">7,235.010</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">2022</span></p></td><td class=\"cl-a881b2c2\"><p class=\"cl-a8816916\"><span class=\"cl-a8739e76\">AI</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">722</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">21740</span></p></td><td class=\"cl-a881b2b8\"><p class=\"cl-a88168f8\"><span class=\"cl-a8739e76\">22,754.334</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Ex. Combination of year, srvy, stratum\n\nShow all the data where year = 1989, srvy = \"EBS\", and stratum is not equal to 81\n\n\n::: {.cell tbl-cap='Combination of year, srvy, stratum. '}\n\n```{.r .cell-code}\nres <- httr::GET(\n  url = paste0(api_link, '?q={\"year\":1989,\"srvy\":\"EBS\",\"stratum\":{\"$ne\":\"81\"}}'))\ndata <- jsonlite::fromJSON(base::rawToChar(res$content))\n\nas_tibble(data$items) %>% \n  mutate_if(is.character, type.convert, as.is = TRUE) %>%\n  head(3) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>%\n  dplyr::select(year, srvy, stratum, species_code, cpue_kgkm2) %>%\n  flextable::flextable() %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-a9fd96ca{}.cl-a9cef1b2{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a9cef1d0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-a9e34f68{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a9e34f86{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-a9e3af26{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a9e3af44{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a9e3af4e{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a9e3af62{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a9e3af6c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-a9e3af76{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-a9fd96ca'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-a9e3af26\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1b2\">year</span></p></th><th class=\"cl-a9e3af44\"><p class=\"cl-a9e34f86\"><span class=\"cl-a9cef1b2\">srvy</span></p></th><th class=\"cl-a9e3af26\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1b2\">stratum</span></p></th><th class=\"cl-a9e3af26\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1b2\">species_code</span></p></th><th class=\"cl-a9e3af26\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1b2\">cpue_kgkm2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">1989</span></p></td><td class=\"cl-a9e3af62\"><p class=\"cl-a9e34f86\"><span class=\"cl-a9cef1d0\">EBS</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">10</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">66548</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">1.164</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a9e3af6c\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">1989</span></p></td><td class=\"cl-a9e3af76\"><p class=\"cl-a9e34f86\"><span class=\"cl-a9cef1d0\">EBS</span></p></td><td class=\"cl-a9e3af6c\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">10</span></p></td><td class=\"cl-a9e3af6c\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">69322</span></p></td><td class=\"cl-a9e3af6c\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">1.164</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">1989</span></p></td><td class=\"cl-a9e3af62\"><p class=\"cl-a9e34f86\"><span class=\"cl-a9cef1d0\">EBS</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">10</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">43000</span></p></td><td class=\"cl-a9e3af4e\"><p class=\"cl-a9e34f68\"><span class=\"cl-a9cef1d0\">2.353</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n## Ex. Visualize CPUE data in distribution map\n\nPacific cod catch-per-unit-effort estimates for NBS in 2021 and map constructed using [`akgfmaps`](https://github.com/afsc-gap-products/akgfmaps). \n\n\n::: {.cell tbl-cap='Visualize CPUE data in distribution map. '}\n\n```{.r .cell-code}\n# res <- httr::GET(\n#   url = paste0(api_link, \"?offset=0&limit=10000\"), \n#   query = list(year = 2021, srvy = \"EBS\", species_code = 30060))\nres <- httr::GET(\n  url = paste0(api_link, '?q={\"year\":2021,\"srvy\":\"NBS\",\"species_code\":21720}'))\ndata_catch <- jsonlite::fromJSON(base::rawToChar(res$content))$items %>% \n  dplyr::select(stratum, station, cpue_kgkm2) \n\n# zero-fill data (imperfectly, but effective for this example)\nres <- httr::GET(\n  url = paste0(api_link, '?q={\"year\":2021,\"srvy\":\"NBS\"}offset=0&limit=10000'))\ndata_haul <- jsonlite::fromJSON(base::rawToChar(res$content))$items %>% \n  dplyr::select(stratum, station, latitude_dd, longitude_dd) %>%\n  dplyr::mutate(across(where(is.numeric), round, 3)) %>% \n  dplyr::distinct()\n\ndata <- dplyr::left_join(data_haul, data_catch) %>% \n  dplyr::mutate(cpue_kgkm2 = ifelse(is.na(cpue_kgkm2), 0, cpue_kgkm2), \n                dplyr::across(dplyr::everything(), as.numeric)) \n\nflextable::flextable(data[1:3,]) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() \n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"tabwid\"><style>.cl-afc424b6{}.cl-afa4c7ec{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-afa4c800{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-afb08046{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-afb0eb76{width:0.75in;background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb0eb8a{width:0.75in;background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb0eb94{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-afc424b6'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-afb0eb76\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c7ec\">stratum</span></p></th><th class=\"cl-afb0eb76\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c7ec\">station</span></p></th><th class=\"cl-afb0eb76\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c7ec\">latitude_dd</span></p></th><th class=\"cl-afb0eb76\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c7ec\">longitude_dd</span></p></th><th class=\"cl-afb0eb76\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c7ec\">cpue_kgkm2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">81</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\"></span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">61.66434</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">-172.2655</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">2,895.258</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-afb0eb94\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">81</span></p></td><td class=\"cl-afb0eb94\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\"></span></p></td><td class=\"cl-afb0eb94\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">62.33740</span></p></td><td class=\"cl-afb0eb94\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">-173.1702</span></p></td><td class=\"cl-afb0eb94\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">1,235.545</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">70</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\"></span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">62.03713</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">-171.6528</span></p></td><td class=\"cl-afb0eb8a\"><p class=\"cl-afb08046\"><span class=\"cl-afa4c800\">0.000</span></p></td></tr></tbody></table></div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# devtools::install_github(\"afsc-gap-products/akgfmaps\", build_vignettes = TRUE)\nlibrary(akgfmaps)\n\nfigure <- akgfmaps::make_idw_map(\n  CPUE_KGHA = data$cpue_kgkm2, # calculates the same, regardless of units.  \n  LATITUDE = data$latitude_dd, \n  LONGITUDE = data$longitude_dd, \n  region = \"bs.north\", # Predefined EBS area\n  set.breaks = \"jenks\", # Gets Jenks breaks from classint::classIntervals()\n  in.crs = \"+proj=longlat\", # Set input coordinate reference system\n  out.crs = \"EPSG:3338\", # Set output coordinate reference system\n  grid.cell = c(20000, 20000))$plot + # 20x20km grid\n  ggplot2::guides(fill=guide_legend(title = \"Pacific cod\\nCPUE (kg/km2)\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[inverse distance weighted interpolation]\n[inverse distance weighted interpolation]\n```\n:::\n\n```{.r .cell-code}\nfigure\n```\n\n::: {.cell-output-display}\n![Visualize CPUE data in distribution map. ](foss-api-r_files/figure-html/test-foss-api-7-fig-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "foss-api-r_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/tabwid-1.1.3/tabwid.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}