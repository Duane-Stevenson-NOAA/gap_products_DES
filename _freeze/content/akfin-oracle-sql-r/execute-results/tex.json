{
  "hash": "3fc83d7712a6ae75422560cc11a3b17f",
  "result": {
    "markdown": "---\ntitle: Access data via Oracle and R\nnumber-sections: true\nnumber-depth: 3\n---\n\n\n\n\n\n## Access data via Oracle (AFSC only) {.unnumbered}\n\nAFSC `Oracle` users can access the database via `SQL developer` to view and pull the production data directly from the `GAP_PRODUCTS` `Oracle` schema. The user can also use `SQL developer` to view and pull the GAP Products data directly from the `GAP_PRODUCTS` `Oracle` schema. \n\n### Connect to Oracle from R\n\nMany users will want to access the data from `Oracle` using `R`. The user will need to install the `RODBC` `R` package and ask OFIS (IT) connect `R` to `Oracle`. Then, use the following code in `R` to establish a connection from `R` to `Oracle`: \n\nHere, the user can establish the oracle connection by entering their username and password in the `channel <- gapindex::oracle_connect()` function. Never save usernames or passwords in scripts that may be intentionally or unintentionally shared with others. If no username and password is entered in the function, pop-ups will appear on the screen asking for the username and password. \n\nAfter you connect to VPN, you'll be able to log into Oracle. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(RODBC)\nchannel <- gapindex::get_connected()\n```\n:::\n\n\n\n## Data SQL Query Examples: {.unnumbered}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gapindex)\nlibrary(RODBC)\nlibrary(flextable)\nlibrary(ggplot2)\nlibrary(magrittr)\nlibrary(dplyr)\n```\n:::\n\n\n\n### Ex. Select all data from tables\n\nYou can download all of the tables locally using a variation of the code below. Once connected, pull and save the tables of interest into the `R` environment. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlocations <- c(\n  \"GAP_PRODUCTS.AKFIN_AGECOMP\", \n  \"GAP_PRODUCTS.AKFIN_AREA\", \n  \"GAP_PRODUCTS.AKFIN_BIOMASS\", \n  \"GAP_PRODUCTS.AKFIN_CATCH\", \n  \"GAP_PRODUCTS.AKFIN_CPUE\", \n  \"GAP_PRODUCTS.AKFIN_CRUISE\", \n  \"GAP_PRODUCTS.AKFIN_HAUL\", \n  \"GAP_PRODUCTS.AKFIN_LENGTH\", \n  \"GAP_PRODUCTS.AKFIN_METADATA_COLUMN\", \n  \"GAP_PRODUCTS.AKFIN_SIZECOMP\", \n  \"GAP_PRODUCTS.AKFIN_SPECIMEN\", \n  \"GAP_PRODUCTS.AKFIN_STRATUM_GROUPS\", \n  \"GAP_PRODUCTS.AKFIN_SURVEY_DESIGN\", \n  \"GAP_PRODUCTS.AKFIN_TAXONOMIC_CLASSIFICATION\"\n)\n\nfor (i in 1:length(locations)) {\n  print(locations[i])\n  a <- RODBC::sqlQuery(channel, paste0(\"SELECT * FROM \", locations[i]))\n  write.csv(x = a, file = here::here(\"data\", paste0(locations[i], \".csv\")))\n}\n```\n:::\n\n::: {.cell tbl-cap='Pull AI rockfish with {dbplyr}. '}\n\n```{.r .cell-code}\nlibrary(odbc)\nlibrary(RODBC)\nlibrary(dbplyr)\n\nmy_spp_codes <- c(\n  30010, #\tSebastolobus sp.\tthornyhead unid.\n  30020, #\tSebastolobus alascanus\tshortspine thornyhead\n  30025, #\tSebastolobus macrochir\tbroadfin thornyhead\n  30330, #\tSebastes melanops\tblack rockfish\n  30430, #\tSebastes proriger\tredstripe rockfish\n  30470, #\tSebastes ruberrimus\tyelloweye rockfish\n  30475, #\tSebastes babcocki\tredbanded rockfish\n  30535, #\tSebastes variegatus\tharlequin rockfish\n  30560, # Sebastes zacentrus\tsharpchin rockfish\n  30600, # Sebastes reedi\tyellowmouth rockfish\n  30030, # Sebastolobus altivelis\tlongspine thornyhead\n  30040, # Sebastes sp.\trockfish unid.\n  30100, # Sebastes brevispinis\tsilvergray rockfish\n  30150, # NA\tdusky and dark rockfishes unid.\n  30152, # Sebastes variabilis\tdusky rockfish\n  30170, # Sebastes crameri\tdarkblotched rockfish\n  30270) # Sebastes helvomaculatus\trosethorn rockfish\n\na <- dplyr::tbl(channel, dplyr::sql('gap_products.akfin_biomass')) %>% \n  dplyr::rename_all(tolower) %>% \n  dplyr::select(survey_definition_id, area_id, species_code, year, biomass_mt, biomass_var) %>% \n  dplyr::filter(species_code %in% my_spp_codes & \n                  area_id %in% 99904 & \n                  year >= 1991) %>% \n  dplyr::collect() \n\nflextable::flextable(head(a)) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra()\n```\n:::\n\n\n\n\n### Ex. CPUE for all EBS and NBS stations with associated haul, cruise, and species information.\n\n\n\n::: {.cell tbl-cap='CPUE for all EBS and NBS stations with associated haul, cruise, and species information. '}\n\n```{.r .cell-code}\na <- RODBC::sqlQuery(channel = channel, # NOT RACEBASE.HAUL\n                     query = paste0(\n                       \"\n-- Select columns for output data\nSELECT\ncr.CRUISEJOIN,\ncr.CRUISE,\ncr.YEAR,\ncr.SURVEY_DEFINITION_ID,\ncr.SURVEY_NAME,\ncr.VESSEL_ID,\ncr.VESSEL_NAME,\ncp.HAULJOIN,\ncp.SPECIES_CODE,\ntt.SPECIES_NAME,\ntt.COMMON_NAME,\ncp.WEIGHT_KG,\ncp.COUNT,\ncp.AREA_SWEPT_KM2,\ncp.CPUE_KGKM2,\ncp.CPUE_NOKM2,\nhh.HAUL,\nhh.STATION\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_HAUL hh\nLEFT JOIN GAP_PRODUCTS.AKFIN_CRUISE cr\nON hh.CRUISEJOIN = cr.CRUISEJOIN\nLEFT JOIN GAP_PRODUCTS.AKFIN_CPUE cp\nON hh.HAULJOIN = cp.HAULJOIN\nLEFT JOIN GAP_PRODUCTS.TAXONOMIC_CLASSIFICATION tt\nON cp.SPECIES_CODE = tt.SPECIES_CODE\n\n-- Filter for EBS and NBS observations\nWHERE SURVEY_DEFINITION_ID IN (143, 98) -- 143 NBS, 98 EBS\nAND tt.SURVEY_SPECIES = 1\n\n-- Only return the first 3 rows because otherwise this would be a huge table!\nFETCH FIRST 3 ROWS ONLY;\")) \n\nflextable::flextable(head(a[,2:8])) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra()\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CRUISE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SURVEY\\_DEFINITION\\_ID}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SURVEY\\_NAME}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{VESSEL\\_ID}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{VESSEL\\_NAME}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{HAULJOIN}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CRUISE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SURVEY\\_DEFINITION\\_ID}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SURVEY\\_NAME}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{VESSEL\\_ID}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{VESSEL\\_NAME}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{HAULJOIN}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{198,203}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,982}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{98}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Eastern\\ Bering\\ Sea\\ Crab/Groundfish\\ Bottom\\ Trawl\\ Survey}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{CHAPMAN}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{877}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{198,203}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,982}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{98}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Eastern\\ Bering\\ Sea\\ Crab/Groundfish\\ Bottom\\ Trawl\\ Survey}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{CHAPMAN}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{877}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{198,203}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,982}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{98}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Eastern\\ Bering\\ Sea\\ Crab/Groundfish\\ Bottom\\ Trawl\\ Survey}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{CHAPMAN}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{877}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n\n\n### Ex. CPUE for all stations contained in the INPFC Shumagin region (AREA_ID = 919) for Pacific cod. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel,\n                       query =\n                         \"\n-- Select columns for output data\nSELECT \nHAULJOIN, \nSPECIES_CODE, \nSTRATUM, \nLATITUDE_DD_START, \nLONGITUDE_DD_START,\nCPUE_KGKM2, \nGEAR_TEMPERATURE_C\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_CPUE cpue\nLEFT JOIN GAP_PRODUCTS.AKFIN_HAUL haul\nUSING (HAULJOIN) \n\n-- Filter for P. Cod observations\nWHERE SPECIES_CODE IN (21720)\n\n-- Select all stratum within the area_id 919 (INPFC Shumagin region)\nAND haul.STRATUM IN\n(\nSELECT \nSTRATUM\nFROM GAP_PRODUCTS.AKFIN_STRATUM_GROUPS \nWHERE AREA_ID = 919\n);\")\n```\n:::\n\n::: {.cell tbl-cap='CPUE for all stations contained in the Shumagin region (AREA_ID = 919). '}\n\n```{.r .cell-code}\ndat <- dat %>% \n  dplyr::select(HAULJOIN, STRATUM, SPECIES_CODE, LATITUDE_DD_START, LONGITUDE_DD_START, CPUE_KGKM2, GEAR_TEMPERATURE_C) %>% \n  dplyr::mutate(SPECIES_CODE = as.character(SPECIES_CODE), \n                STRATUM = as.character(STRATUM)) %>% \n  dplyr::arrange(SPECIES_CODE)\n\nflextable::flextable(head(dat)) %>%   \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra()\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{HAULJOIN}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{STRATUM}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SPECIES\\_CODE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LATITUDE\\_DD\\_START}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LONGITUDE\\_DD\\_START}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CPUE\\_KGKM2}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{GEAR\\_TEMPERATURE\\_C}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{HAULJOIN}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{STRATUM}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SPECIES\\_CODE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LATITUDE\\_DD\\_START}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LONGITUDE\\_DD\\_START}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CPUE\\_KGKM2}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{GEAR\\_TEMPERATURE\\_C}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,880}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{210}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52.55793}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-169.7829}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{6,863.3672}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,881}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{10}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52.63840}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-169.7815}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,536.8594}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4.9}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,882}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{111}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52.67131}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-169.4279}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{10,044.8409}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4.7}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,883}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{10}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{53.24099}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-168.0725}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,937.7294}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{5.2}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,884}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{10}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{53.16771}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-167.9810}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{830.2039}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{5.1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-12,885}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{111}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21720}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{53.06838}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-167.6713}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2,891.8092}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4.9}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n\n\n### Ex. EBS Pacific Ocean perch CPUE and [`akgfmaps`](https://github.com/afsc-gap-products/akgfmaps) map \n\nPacific Ocean perch catch-per-unit-effort estimates for EBS in 2021 from `GAP_PRODUCTS.AKFIN_CPUE` and map constructed using [`akgfmaps`](https://github.com/afsc-gap-products/akgfmaps). Here, we'll use AKFIN HAUL and CRUISES data also included in this repo, for convenience, though they are very similar to their `RACEBASE` analogs. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel, \n                       query = \n                         \"\n-- Select columns for output data\nSELECT \n(cp.CPUE_KGKM2/100) CPUE_KGHA, -- akgfmaps is expecting hectares\nhh.LATITUDE_DD_START LATITUDE,\nhh.LONGITUDE_DD_START LONGITUDE\n\n-- Use HAUL data to obtain LATITUDE & LONGITUDE and connect to cruisejoin\nFROM GAP_PRODUCTS.AKFIN_CPUE cp\nLEFT JOIN GAP_PRODUCTS.AKFIN_HAUL hh\nON cp.HAULJOIN = hh.HAULJOIN\n\n-- Use CRUISES data to obtain YEAR and SURVEY_DEFINITION_ID\nLEFT JOIN GAP_PRODUCTS.AKFIN_CRUISE cc\nON hh.CRUISEJOIN = cc.CRUISEJOIN\n\n-- Filter data\nWHERE cp.SPECIES_CODE = 30060 \nAND cc.SURVEY_DEFINITION_ID = 98 \nAND cc.YEAR = 2021;\")\n```\n:::\n\n::: {.cell tbl-cap='EBS Pacific Ocean perch CPUE and [`akgfmaps`](https://github.com/afsc-gap-products/akgfmaps) map. '}\n\n```{.r .cell-code}\ndat %>% \n  dplyr::arrange(desc(CPUE_KGHA)) %>% \n  head() %>% \n  flextable::flextable() %>%  \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra()\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CPUE\\_KGHA}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LATITUDE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LONGITUDE}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{CPUE\\_KGHA}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LATITUDE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{LONGITUDE}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{10.1768965}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{57.64871}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-173.3735}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{6.2734470}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{56.36952}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-169.4604}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{3.0252034}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{56.66253}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-171.9549}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1.8214628}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{57.98912}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-173.4816}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{0.5535672}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{55.65865}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-168.1804}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{0.2813533}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{57.32545}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-173.3217}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# devtools::install_github(\"afsc-gap-products/akgfmaps\", build_vignettes = TRUE)\nlibrary(akgfmaps)\n\nfigure <- akgfmaps::make_idw_map(\n  x = dat, # Pass data as a data frame\n  region = \"bs.south\", # Predefined EBS area\n  set.breaks = \"jenks\", # Gets Jenks breaks from classint::classIntervals()\n  in.crs = \"+proj=longlat\", # Set input coordinate reference system\n  out.crs = \"EPSG:3338\", # Set output coordinate reference system\n  grid.cell = c(20000, 20000), # 20x20km grid\n  key.title = \"Pacific Ocean perch\") # Include in the legend title\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[inverse distance weighted interpolation]\n[inverse distance weighted interpolation]\n```\n:::\n\n```{.r .cell-code}\nfigure$plot + \n  ggplot2::guides(fill=guide_legend(title = \"Pacific Ocean perch\\nCPUE (kg/km2)\"))  |>   \n  change_fill_color(new.scheme = \"grey\", show.plot = FALSE)\n```\n\n::: {.cell-output-display}\n![EBS Pacific Ocean perch CPUE and [`akgfmaps`](https://github.com/afsc-gap-products/akgfmaps) map. ](akfin-oracle-sql-r_files/figure-pdf/test-6-fig-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. GOA Pacific Ocean perch biomass and abundance\n\nBiomass and abundance for Pacific Ocean perch from 1990 – 2023 for the western/central/eastern GOA management areas as well as for the entire region. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel, \n                       query = \n                         \"\n-- Manipulate data to join to\nWITH FILTERED_STRATA AS (\nSELECT AREA_ID, DESCRIPTION FROM GAP_PRODUCTS.AKFIN_AREA\nWHERE AREA_TYPE in ('REGULATORY_AREA', 'REGION') \nAND SURVEY_DEFINITION_ID = 47)\n\n-- Select columns for output data\nSELECT \nBIOMASS_MT,\nPOPULATION_COUNT, \nYEAR, \nDESCRIPTION\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_BIOMASS BIOMASS\nJOIN FILTERED_STRATA STRATA \nON STRATA.AREA_ID = BIOMASS.AREA_ID\n\n-- Filter data results\nWHERE BIOMASS.SPECIES_CODE = 30060\")\n```\n:::\n\n::: {.cell tbl-cap='GOA Pacific Ocean perch biomass and abundance. '}\n\n```{.r .cell-code}\ndat0 <- dat %>% \n  janitor::clean_names() %>% \n  dplyr::select(biomass_mt, population_count, year, area = description) %>%\n  pivot_longer(cols = c(\"biomass_mt\", \"population_count\"), \n               names_to = \"var\", \n               values_to = \"val\") %>% \n  dplyr::mutate(\n    val = ifelse(var == \"biomass_mt\", val/1e6, val/1e9), \n    var = ifelse(var == \"biomass_mt\", \"Biomass (Mmt)\", \"Population (B)\"), \n    area = gsub(x = area, pattern = \" - \", replacement = \"\\n\"), \n    area = gsub(x = area, pattern = \": \", replacement = \"\\n\"), \n    type = sapply(X = strsplit(x = area, split = \"\\n\", fixed = TRUE), `[[`, 2))  %>% \n  dplyr::arrange(type) %>% \n  dplyr::mutate(\n    area = factor(area, levels = unique(area), labels = unique(area), ordered = TRUE))\n\nflextable::flextable(head(dat)) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = \"YEAR\", big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{BIOMASS\\_MT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{DESCRIPTION}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{BIOMASS\\_MT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{DESCRIPTION}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{157,295.1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{317,129,408}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1990}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{157,295.1}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{317,129,408}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1990}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{483,622.6}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{833,902,161}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1993}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{483,622.6}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{833,902,161}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1993}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{771,412.8}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,252,616,603}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1996}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{771,412.8}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,252,616,603}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1996}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{GOA\\ Region:\\ All\\ Strata}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"scales\")\nlibrary(scales)\nfigure <- ggplot2::ggplot(\n  dat = dat0, \n  mapping = aes(x = year, y = val, color = type)) +\n  ggplot2::geom_point(size = 3) + \n  ggplot2::facet_grid(cols = vars(area), rows = vars(var), scales = \"free_y\") + \n  ggplot2::scale_x_continuous(name = \"Year\", n.breaks = 3) +\n  ggplot2::scale_y_continuous(name = \"Estimate\", labels = comma) +\n  ggplot2::labs(title = 'GOA Pacific Ocean perch biomass and abundance 1990 – 2023')  + \n  ggplot2::guides(color=guide_legend(title = \"Region Type\"))+\n  ggplot2::scale_color_grey() +\n  ggplot2::theme_bw() +\n  ggplot2::theme(legend.direction = \"horizontal\", \n                 legend.position = \"bottom\")\n\nfigure\n```\n\n::: {.cell-output-display}\n![GOA Pacific Ocean perch biomass and abundance. ](akfin-oracle-sql-r_files/figure-pdf/test-1-plot-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. AI rock sole size compositions and ridge plot\n\nNorthern and Southern rock sole size composition data from 1991 – 2022 for the Aleutian Islands, with Ridge plot from [`ggridges`](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel, \n                       query = \"\nSELECT \nYEAR,\nLENGTH_MM / 10 AS LENGTH_CM, \nSUM(POPULATION_COUNT) AS POPULATION_COUNT\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_SIZECOMP \n\n-- 99904 is the AREA_ID that codes for the whole AI survey region\nWHERE AREA_ID = 99904\n-- including northern rock sole, southern rock sole, and rock sole unid.\nAND SPECIES_CODE IN (10260, 10261, 10262)\n-- remove the -9 LENGTH_MM code\nAND LENGTH_MM > 0\n-- sum over species_codes and sexes\nGROUP BY (YEAR, LENGTH_MM)\")\n```\n:::\n\n::: {.cell tbl-cap='AI Rock sole size compositions and ridge plot. '}\n\n```{.r .cell-code}\ndat0 <- dat %>% \n  janitor::clean_names() %>% \n  head() %>% \n  flextable::flextable() %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = \"year\", big.mark = \"\")\ndat0\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{length\\_cm}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{population\\_count}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{length\\_cm}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{population\\_count}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1991}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{23}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4,625,236}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1991}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{38}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2,254,964}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1991}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{42}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{820,614}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1991}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{11,225}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1994}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{16}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{741,246}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1994}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{26}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{9,762,322}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"ggridges\")\nlibrary(ggridges)\nfigure <- ggplot(dat, \n                 mapping = aes(x = LENGTH_CM, \n                               y = YEAR, \n                               height = POPULATION_COUNT, \n                               group = YEAR)) +\n  ggridges::geom_density_ridges(stat = \"identity\", scale = 1) +\n  ggplot2::ylab(label = \"Year\") +\n  ggplot2::scale_x_continuous(name = \"Length (cm)\") +\n  ggplot2::labs(title = paste0('Aleutian Islands Rock sole Size Compositions'), \n                subtitle = paste0(min(dat$YEAR), ' – ', max(dat$YEAR))) +\n  ggplot2::theme_bw()\n\nfigure\n```\n\n::: {.cell-output-display}\n![AI Rock sole size compositions and ridge plot. ](akfin-oracle-sql-r_files/figure-pdf/test-2-plot-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. 2023 EBS Walleye Pollock Age Compositions and Age Pyramid\n\nWalleye pollock age composition for the EBS standard + NW Area from 2023, with age pyramid plot. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel, \n                       query = \"\n-- Manipulate data to join to\nWITH FILTERED_STRATA AS (\nSELECT \nAREA_ID, \nDESCRIPTION \nFROM GAP_PRODUCTS.AKFIN_AREA\nWHERE AREA_TYPE = 'REGION' AND \nSURVEY_DEFINITION_ID = 98)\n\n-- Select columns for output data\nSELECT \nAGECOMP.AGE, \nAGECOMP.POPULATION_COUNT, \nAGECOMP.SEX\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_AGECOMP AGECOMP\nJOIN FILTERED_STRATA STRATA \nON STRATA.AREA_ID = AGECOMP.AREA_ID\n\n-- Filter data results\nWHERE SPECIES_CODE = 21740\nAND YEAR = 2023\nAND AGE >= 0\")\n```\n:::\n\n::: {.cell tbl-cap='EBS Walleye Pollock Age Compositions and Age Pyramid. '}\n\n```{.r .cell-code}\ndat0 <- dat %>% \n  janitor::clean_names() %>% \n  dplyr::filter(sex %in% c(1,2)) %>%\n  dplyr::mutate(\n    sex = ifelse(sex == 1, \"M\", \"F\"),\n    population_count = # change male population to negative\n      ifelse(sex==\"M\", population_count*(-1), population_count*1)/1e9) \n\nflextable::flextable(head(dat)) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra()\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{AGE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SEX}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{AGE}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{SEX}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{19,777,357}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{82,284,457}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{136,609,551}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{237,196,811}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{5}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{939,749,004}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{6}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{244,651,171}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfigure <- ggplot2::ggplot(\n  data = dat0, \n  mapping = \n    aes(x = age,\n        y = population_count, \n        fill = sex)) +\n  ggplot2::scale_fill_grey() +\n  ggplot2::geom_bar(stat = \"identity\") +\n  ggplot2::coord_flip() +\n  ggplot2::scale_x_continuous(name = \"Age\") +\n  ggplot2::scale_y_continuous(name = \"Population (billions)\", labels = abs) +\n  ggplot2::ggtitle(label = \"2023 EBS Walleye Pollock Age Compositions\")  + \n  ggplot2::guides(fill = guide_legend(title = \"Sex\"))+\n  ggplot2::theme_bw()\n\nfigure\n```\n\n::: {.cell-output-display}\n![2023 EBS Walleye Pollock Age Compositions and Age Pyramid. ](akfin-oracle-sql-r_files/figure-pdf/test-3-plot-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. NBS Pacific cod biomass and abundance\n\nPacific cod biomass and abundance data for the NBS by stratum. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel, \n                       query = \n                         \"\n-- Manipulate data to join to\nWITH FILTERED_STRATA AS (\nSELECT \nAREA_ID, \nAREA_NAME, \nDESCRIPTION \nFROM GAP_PRODUCTS.AKFIN_AREA\nWHERE AREA_TYPE in ('STRATUM') AND \nSURVEY_DEFINITION_ID = 143) \n\n-- Select columns for output data\nSELECT \nBIOMASS.BIOMASS_MT, \nBIOMASS.POPULATION_COUNT, \nBIOMASS.YEAR, \nSTRATA.AREA_NAME\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_BIOMASS BIOMASS \nJOIN FILTERED_STRATA STRATA \nON STRATA.AREA_ID = BIOMASS.AREA_ID\n\n-- Filter data results\nWHERE BIOMASS.SURVEY_DEFINITION_ID IN 143 \nAND BIOMASS.SPECIES_CODE = 21720\")\n```\n:::\n\n::: {.cell tbl-cap='NBS Pacific cod biomass and abundance. '}\n\n```{.r .cell-code}\ndat0 <- dat %>% \n  janitor::clean_names() %>% \n  dplyr::select(biomass_mt, population_count, year, area = area_name) %>%\n  pivot_longer(cols = c(\"biomass_mt\", \"population_count\"), \n               names_to = \"var\", \n               values_to = \"val\") %>% \n  dplyr::mutate(\n    val = ifelse(var == \"biomass_mt\", val/1e6, val/1e9), \n    var = ifelse(var == \"biomass_mt\", \"Biomass (Mmt)\", \"Population (B)\"), \n    area = factor(area, levels = unique(area), labels = unique(area), ordered = TRUE))\nflextable::flextable(head(dat)) %>% \n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = \"YEAR\", big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{BIOMASS\\_MT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{AREA\\_NAME}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{BIOMASS\\_MT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{POPULATION\\_COUNT}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{YEAR}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{AREA\\_NAME}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{7,462.559}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4,724,153}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2010}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{132,490.152}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{66,187,245}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2017}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{107,096.730}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{102,734,142}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2019}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{95,849.983}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{68,767,498}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2021}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{96,500.697}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{60,433,135}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{76,708.433}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{39,605,860}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2023}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{Inner\\ Domain}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfigure <- ggplot2::ggplot(\n  dat = dat0, \n  mapping = aes(y = val, x = year, fill = area))  + \n  ggplot2::geom_bar(position=\"stack\", stat=\"identity\") +  \n  ggplot2::facet_grid(rows = vars(var), scales = \"free_y\") +\n  ggplot2::scale_y_continuous(name = \"Estimate\", labels = comma) +\n  ggplot2::scale_x_continuous(name = \"Year\", breaks = unique(dat0$year)) +\n  ggplot2::labs(title = 'NBS Pacific cod biomass and abundance by stratum')  + \n  ggplot2::guides(fill=guide_legend(title = \"Region Type\"))+\n  ggplot2::scale_fill_grey() +\n  ggplot2::theme_bw() +\n  ggplot2::theme(legend.direction = \"horizontal\", \n                 legend.position = \"bottom\")\n\nfigure\n```\n\n::: {.cell-output-display}\n![NBS Pacific cod biomass and abundance. ](akfin-oracle-sql-r_files/figure-pdf/test-4-fig-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. GOA Pacific Ocean perch biomass and line plot\n\nPacific Ocean perch biomass totals for GOA between 1984-2021 from `GAP_PRODUCTS.AKFIN_BIOMASS`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel,\n                       query = \"\n-- Select columns for output data\nSELECT\nSURVEY_DEFINITION_ID,\nBIOMASS_MT / 1000 AS BIOMASS_KMT,\n(BIOMASS_MT - 2 * SQRT(BIOMASS_VAR)) / 1000 AS BIOMASS_KCI_DW,\n(BIOMASS_MT + 2 * SQRT(BIOMASS_VAR)) / 1000 AS BIOMASS_KCI_UP,\nYEAR\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_BIOMASS\n\n-- Filter data results\nWHERE SPECIES_CODE = 30060\nAND SURVEY_DEFINITION_ID = 47\nAND AREA_ID = 99903\nAND YEAR BETWEEN 1990 AND 2023\" ) %>% \n  janitor::clean_names()\n```\n:::\n\n::: {.cell tbl-cap='GOA Pacific Ocean perch biomass and line plot. '}\n\n```{.r .cell-code}\nflextable::flextable(head(dat)) %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = \"year\", big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kmt}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kci\\_dw}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kci\\_up}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kmt}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kci\\_dw}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{biomass\\_kci\\_up}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{157.2951}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{63.03638}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{251.5538}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1990}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{483.6226}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{266.33581}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{700.9093}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1993}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{771.4128}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{364.30515}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,178.5204}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1996}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{727.0635}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{-50.06854}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,504.1955}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1999}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{673.1551}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{229.14901}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,117.1611}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2001}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{47}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{457.4216}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{313.39204}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{601.4511}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2003}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\na_mean <- dat %>% \n  dplyr::group_by(survey_definition_id) %>% \n  dplyr::summarise(biomass_kmt = mean(biomass_kmt, na.rm = TRUE), \n                   minyr = min(year, na.rm = TRUE), \n                   maxyr = max(year, na.rm = TRUE)) \n\nfigure <-\n  ggplot(data = dat, \n         mapping = aes(x = year, \n                       y = biomass_kmt)) +\n  ggplot2::geom_point(size = 2.5, color = \"grey40\") + \n  ggplot2::scale_x_continuous(\n    name = \"Year\", \n    labels = scales::label_number(\n      accuracy = 1, \n      big.mark = \"\"))   +\n  ggplot2::scale_y_continuous(\n    name = \"Biomass (Kmt)\", \n    labels = comma) +\n  ggplot2::geom_segment(\n    data = a_mean,\n    mapping = aes(x = minyr, \n                  xend = maxyr, \n                  y = biomass_kmt, \n                  yend = biomass_kmt),\n    linetype = \"dashed\", \n    linewidth = 2) +\n  ggplot2::geom_errorbar(\n    mapping = aes(ymin = biomass_kci_dw, ymax = biomass_kci_up),\n    position = position_dodge(.9),\n    alpha = 0.5, width=.2) +\n  ggplot2::ggtitle(\n    label = \"GOA Pacific Ocean Perch Biomass 1984-2021\", \n    subtitle = paste0(\"Mean = \", \n                      formatC(x = a_mean$biomass_kmt, \n                              digits = 2, \n                              big.mark = \",\", \n                              format = \"f\"), \n                      \" Kmt\")) +\n  ggplot2::theme_bw()\n\nfigure\n```\n\n::: {.cell-output-display}\n![GOA Pacific Ocean perch biomass and line plot. ](akfin-oracle-sql-r_files/figure-pdf/test-5-fig-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n### Ex. 2022 AI Atka mackerel age specimen summary\n\n#### All ages determined:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel,\n                       query = \"\n-- Select columns for output data\nSELECT SURVEY_DEFINITION_ID, YEAR, SPECIES_CODE, AGE\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_SPECIMEN\nJOIN (SELECT HAULJOIN, CRUISEJOIN FROM GAP_PRODUCTS.AKFIN_HAUL)\nUSING (HAULJOIN)\nJOIN (SELECT CRUISEJOIN, YEAR, SURVEY_DEFINITION_ID FROM GAP_PRODUCTS.AKFIN_CRUISE)\nUSING (CRUISEJOIN)\n\n-- Filter data results\nWHERE GAP_PRODUCTS.AKFIN_SPECIMEN.SPECIMEN_SAMPLE_TYPE = 1\nAND SPECIES_CODE = 21921\nAND YEAR = 2022\nAND SURVEY_DEFINITION_ID = 52\") %>% \n  janitor::clean_names()\n```\n:::\n\n::: {.cell tbl-cap='2022 AI Atka mackerel age specimen summary: all ages determined. '}\n\n```{.r .cell-code}\nflextable::flextable(head(dat) %>% \n                       dplyr::arrange(age)) %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{age}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{age}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{3}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{3}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{4}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{7}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n\n\n#### How many of each age was found:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel,\n                       query = \"\n-- Select columns for output data\nSELECT SURVEY_DEFINITION_ID, YEAR, SPECIES_CODE, AGE, \nCOUNT(AGE) AS COUNTAGE\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_SPECIMEN\nJOIN (SELECT HAULJOIN, CRUISEJOIN FROM GAP_PRODUCTS.AKFIN_HAUL)\nUSING (HAULJOIN)\nJOIN (SELECT CRUISEJOIN, YEAR, SURVEY_DEFINITION_ID FROM GAP_PRODUCTS.AKFIN_CRUISE)\nUSING (CRUISEJOIN)\n\n-- Filter data results\nWHERE GAP_PRODUCTS.AKFIN_SPECIMEN.SPECIMEN_SAMPLE_TYPE = 1\nAND SPECIES_CODE = 21921\nAND YEAR = 2022\nAND SURVEY_DEFINITION_ID = 52\nGROUP BY (YEAR, SURVEY_DEFINITION_ID, SPECIES_CODE, AGE)\") %>% \n  janitor::clean_names()\n```\n:::\n\n::: {.cell tbl-cap='Ex.: 2022 AI Atka mackerel age specimen summary: how many of each age were determined. '}\n\n```{.r .cell-code}\nflextable::flextable(head(dat) %>% \n                       dplyr::arrange(age)) %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{age}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{countage}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{age}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{countage}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{40}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{6}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{116}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{7}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{108}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{8}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{61}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{11}}}} & \\multicolumn{1}{>{\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{20}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n\n\n#### How many otoliths were aged: \n\nUsing `SQL`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- RODBC::sqlQuery(channel = channel,\n                       query = \"\n-- Select columns for output data\nSELECT SURVEY_DEFINITION_ID, YEAR, SPECIES_CODE, \nCOUNT(AGE) AS COUNTAGE\n\n-- Identify what tables to pull data from\nFROM GAP_PRODUCTS.AKFIN_SPECIMEN\nJOIN (SELECT HAULJOIN, CRUISEJOIN FROM GAP_PRODUCTS.AKFIN_HAUL)\nUSING (HAULJOIN)\nJOIN (SELECT CRUISEJOIN, YEAR, SURVEY_DEFINITION_ID FROM GAP_PRODUCTS.AKFIN_CRUISE)\nUSING (CRUISEJOIN)\n\n-- Filter data results\nWHERE GAP_PRODUCTS.AKFIN_SPECIMEN.SPECIMEN_SAMPLE_TYPE = 1\nAND SPECIES_CODE = 21921\nAND YEAR = 2022\nAND SURVEY_DEFINITION_ID = 52\nGROUP BY (YEAR, SURVEY_DEFINITION_ID, SPECIES_CODE)\") %>% \n  janitor::clean_names()\n```\n:::\n\n\n\nUsing `dbplyr`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(odbc)\nlibrary(keyring)\nlibrary(dplyr)\nlibrary(dbplyr)\n\nchannel <- DBI::dbConnect(odbc::odbc(), \"akfin\", uid = keyring::key_list(\"akfin\")$username,\n                        pwd = keyring::key_get(\"akfin\", keyring::key_list(\"akfin\")$username))\n\ndat <- dplyr::tbl(src = channel, dplyr::sql('gap_products.akfin_specimen')) %>% \n    dplyr::rename_all(tolower) %>% \n    dplyr::select(hauljoin, specimen = specimen_id, species_code, length = length_mm, \n                  weight = weight_g, age, sex, age_method = age_determination_method) %>% \n    dplyr::left_join(dplyr::tbl(akfin, dplyr::sql('gap_products.akfin_haul')) %>%\n                       dplyr::rename_all(tolower) %>% \n                       dplyr::select(cruisejoin, hauljoin, haul, date_collected = date_time_start, \n                                     latitude = latitude_dd_start, longitude = longitude_dd_start),\n                     by = join_by(hauljoin)) %>% \n    dplyr::left_join(dplyr::tbl(akfin, dplyr::sql('gap_products.akfin_cruise')) %>%\n                       dplyr::rename_all(tolower) %>% \n                       dplyr::select(cruisejoin, year, vessel = vessel_id, survey_definition_id),\n                     by = join_by(cruisejoin)) %>% \n    dplyr::filter(year == YEAR &\n             survey_definition_id == 52 & \n             species_code %in% spp_codes &\n             !is.na(age)) %>% \n    dplyr::collect()\n```\n:::\n\n\n\nBoth scripts will produce this table: \n\n\n\n::: {.cell tbl-cap='2022 AI Atka mackerel age specimen summary: how many otoliths were aged. This quiery was created using SQL. '}\n\n```{.r .cell-code}\nflextable::flextable(head(dat)) %>%\n  flextable::fit_to_width(max_width = 6) %>% \n  flextable::theme_zebra() %>%\n  flextable::colformat_num(x = ., j = c(\"year\", \"species_code\"), big.mark = \"\")\n```\n\n::: {.cell-output-display}\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{0.75in}|p{0.75in}|p{0.75in}|p{0.75in}}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{countage}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{survey\\_definition\\_id}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{year}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{species\\_code}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{\\textbf{countage}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{52}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{2022}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{21921}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}\\raggedleft}m{\\dimexpr 0.75in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Arial}{1,061}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n:::\n:::\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "akfin-oracle-sql-r_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{\"knit_meta_id\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-7\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-8-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-6-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-1-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-2-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-3-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-4-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-5-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10a-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10b-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\",\"test-10c1-tbl\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"booktabs\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"pdflscape\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"tabu\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"threeparttable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"threeparttablex\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"ulem\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"normalem\"]},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"makecell\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"xcolor\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"fontspec\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multirow\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"multicol\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"colortbl\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hhline\"]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"\\\\newlength\\\\Oldarrayrulewidth\",\"\\\\newlength\\\\Oldtabcolsep\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"longtable\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"array\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"hyperref\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"float\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"options\",\"extra_lines\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"latex_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"wrapfig\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"}]}]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}